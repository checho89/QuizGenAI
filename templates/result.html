{% extends "base.html" %}
{% block content %}



<div class="space-y-4">
  <div class="bg-slate-900/50 border border-slate-800 p-4 rounded-xl">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-semibold">Results  {{ quiz.topic }} ({{ results.correct }}/{{ results.total }})</h2>
      <a href="{{ url_for('index') }}" class="text-slate-300 hover:underline"> New Quiz</a>
    </div>
  </div>

  <div class="bg-slate-900/50 border border-slate-800 p-4 rounded-xl text-center">
    <img src="{{ badge }}" alt="Result badge" class="mx-auto w-52 h-52">
    <div class="text-sm text-slate-400 mt-2">Right-click  Save image</div>
  </div>

  <details class="bg-slate-900/50 border border-slate-800 p-4 rounded-xl">
    <summary class="cursor-pointer font-semibold">Show explanations</summary>
    <ol class="mt-3 space-y-3 list-decimal pl-5">
      {% for r in results.details %}
        <li>
          <div class="font-medium">{{ r.prompt }}</div>
          <div class="text-sm text-slate-300">Your answer: <code>{{ r.user }}</code> |
            Correct: <code>{{ r.gold }}</code> 
            {% if r.ok %}<span class="text-emerald-400 font-semibold"> Correct</span>
            {% else %}<span class="text-rose-400 font-semibold"> Incorrect</span>{% endif %}
          </div>
          {% if r.explanation %}
            <div class="text-sm text-slate-400 mt-1">Why: {{ r.explanation }}</div>
          {% endif %}
        </li>
      {% endfor %}
    </ol>
  </details>

  <div>
    <a href="{{ url_for('quiz') }}" class="px-4 py-2 font-semibold rounded-lg bg-slate-800 border border-slate-700">Try Again (same quiz)</a>
  </div>
</div>
{% endblock %}
